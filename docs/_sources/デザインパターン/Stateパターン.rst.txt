==============
Stateパターン
==============

適用ケース
==========

状態遷移を制御する際に有効。

定義
====

State パターンでは、オブジェクトの内部状態が変化した際にオブジェクトがその振舞いを変更できる。
オブジェクトはそのクラスを変更したように見える。

説明
====

* Strategy パターンとクラス図は同じであるが、両者は目的が異なる。

  * Strategy パターンは、振舞いやアルゴリズムに基づいて Context クラスを作成する。
  * State パターンでは、Context の状態が変わると Context はその振舞いを変更できる。

* 本パターンを用いることで、コードの保守や理解が容易になるが、その一方で、設計内のクラス数は増加する。
  トレードオフの関係にある。
* 状態遷移は State クラスか Context クラスで制御できる。

図面
====

クラス図の例を :numref:`Stateパターン_クラス図` に、シーケンス図を :numref:`Stateパターン_シーケンス図` に各々示す。

.. figure:: images/Stateパターン_クラス図.png
   :scale: 85%
   :name: Stateパターン_クラス図

   Stateパターン クラス図

.. figure:: images/Stateパターン_シーケンス図.png
   :scale: 85%
   :name: Stateパターン_シーケンス図

   Stateパターン シーケンス図
